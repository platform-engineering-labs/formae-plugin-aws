/*
 * Â© 2025 Platform Engineering Labs Inc.
 *
 * SPDX-License-Identifier: FSL-1.1-ALv2
 */

module aws.apigateway.usageplankey

import "@formae/formae.pkl"
import "../aws.pkl"

const type = "AWS::ApiGateway::UsagePlanKey"

typealias KeyType = "API_KEY"

open class UsagePlanKeyResolvable extends formae.Resolvable {
    hidden type = "AWS::ApiGateway::UsagePlanKey"

    hidden id: UsagePlanKeyResolvable = (this) {
        property = "Id"
    }
}

@aws.ResourceHint {
    type = module.type
    identifier = "Id"
    parent = "AWS::ApiGateway::UsagePlan"
    listParam = new formae.ListProperty { parentProperty = "Id" listParameter =  "UsagePlanId" }
}
open class UsagePlanKey extends formae.Resource {

    @aws.FieldHint{createOnly = true}
    keyId: String|formae.Resolvable

    @aws.FieldHint{createOnly = true}
    keyType: KeyType

    @aws.FieldHint{createOnly = true}
    usagePlanId: String|formae.Resolvable

    local parent = this

    hidden res: UsagePlanKeyResolvable = new {
        label = parent.label
        stack = parent.stack?.label
    }
}
